(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(43),i=a.n(c),r=(a(52),a(20)),o=a(3),l=(a(53),a(54),a(55),a.p+"static/media/about-me-photo.0e66065c.jpg"),d=a(0);var j=function(e){return Object(d.jsxs)("div",{id:"about-me",className:"about-me",children:[Object(d.jsx)("h2",{className:"about-me__heading",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(d.jsx)("hr",{className:"about-me__line"}),Object(d.jsxs)("div",{className:"about-me__content",children:[Object(d.jsxs)("div",{className:"about-me__info",children:[Object(d.jsx)("h3",{className:"about-me__name",children:"\u041c\u0430\u043a\u0441\u0438\u043c"}),Object(d.jsx)("h4",{className:"about-me__short",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 18 \u043b\u0435\u0442"}),Object(d.jsx)("p",{className:"about-me__story",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0432 \u0410\u0441\u0442\u0430\u043d\u0435, \u0441\u0435\u0439\u0447\u0430\u0441 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u043d\u0442\u044c\u044f\u0433\u043e-\u0414\u0435-\u041a\u043e\u043c\u043f\u043e\u0441\u0442\u0435\u043b\u0430. \u0423\u0447\u0443\u0441\u044c \u0432 \u043a\u043e\u043b\u043b\u0435\u0434\u0436\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0432\u0438\u0434\u0435\u0438\u0433\u0440\u0430\u043c\u0438. \u0412 \u044d\u0442\u043e\u043c \u0433\u043e\u0434\u0443 \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c."}),Object(d.jsxs)("ul",{className:"about-me__links",children:[Object(d.jsx)("li",{className:"about-me__item",children:Object(d.jsx)("a",{className:"about-me__link",href:"https://www.facebook.com/profile.php?id=100057730898201",target:"_blank",rel:"noreferrer",children:"Facebook"})}),Object(d.jsx)("li",{className:"about-me__item",children:Object(d.jsx)("a",{className:"about-me__link",href:"https://github.com/maximka76667",target:"_blank",rel:"noreferrer",children:"Github"})})]})]}),Object(d.jsx)("img",{className:"about-me__photo",src:l,alt:"\u0424\u043e\u0442\u043e \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"})]})]})};a(57);var u=function(e){return Object(d.jsxs)("div",{className:"timeline",children:[Object(d.jsx)("div",{className:"timeline__block timeline__block_type_backend",children:Object(d.jsx)("p",{className:"timeline__time",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"})}),Object(d.jsx)("div",{className:"timeline__block timeline__block_type_frontend",children:Object(d.jsx)("p",{className:"timeline__time",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})}),Object(d.jsx)("div",{className:"timeline__block",children:Object(d.jsx)("p",{className:"timeline__part-name",children:"Back-End"})}),Object(d.jsx)("div",{className:"timeline__block",children:Object(d.jsx)("p",{className:"timeline__part-name",children:"Front-End"})})]})};a(58);var m=function(e){return Object(d.jsxs)("div",{id:"about-project",className:"about-project",children:[Object(d.jsx)("h2",{className:"about-project__heading",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsx)("hr",{className:"about-project__line"}),Object(d.jsxs)("div",{className:"about-project__content",children:[Object(d.jsxs)("div",{className:"about-project__info",children:[Object(d.jsxs)("div",{className:"about-project__card",children:[Object(d.jsx)("h3",{className:"about-project__card-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(d.jsx)("p",{className:"about-project__card-text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(d.jsxs)("div",{className:"about-project__card",children:[Object(d.jsx)("h3",{className:"about-project__card-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(d.jsx)("p",{className:"about-project__card-text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(d.jsx)(u,{})]})]})};a(59);var h=function(e){return Object(d.jsxs)("div",{className:"portfolio",children:[Object(d.jsx)("h2",{className:"portfolio__heading",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(d.jsxs)("ul",{className:"works",children:[Object(d.jsx)("li",{className:"works__item",children:Object(d.jsxs)("a",{className:"work",href:"https://maximka76667.github.io/how-to-learn/",children:[Object(d.jsx)("p",{className:"work__name",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("p",{className:"work__arrow",children:"\u2197"})]})}),Object(d.jsx)("li",{className:"works__item",children:Object(d.jsxs)("a",{className:"work",href:"https://maximka76667.github.io/russian-travel/",children:[Object(d.jsx)("p",{className:"work__name",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("p",{className:"work__arrow",children:"\u2197"})]})}),Object(d.jsx)("li",{className:"works__item",children:Object(d.jsxs)("a",{className:"work",href:"https://max76667.mesto.nomoredomains.monster",children:[Object(d.jsx)("p",{className:"work__name",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(d.jsx)("p",{className:"work__arrow",children:"\u2197"})]})})]})]})};a(60);var b=function(e){return Object(d.jsxs)("div",{id:"techs",className:"techs",children:[Object(d.jsx)("h2",{className:"techs__heading",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsx)("hr",{className:"techs__line"}),Object(d.jsxs)("div",{className:"techs__content",children:[Object(d.jsx)("h3",{className:"techs__subheading",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(d.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(d.jsxs)("ul",{className:"techs__list",children:[Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("div",{className:"tech",children:Object(d.jsx)("p",{className:"tech__title",children:"HTML"})})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("div",{className:"tech",children:Object(d.jsx)("p",{className:"tech__title",children:"CSS"})})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("div",{className:"tech",children:Object(d.jsx)("p",{className:"tech__title",children:"JS"})})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("div",{className:"tech",children:Object(d.jsx)("p",{className:"tech__title",children:"React"})})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("div",{className:"tech",children:Object(d.jsx)("p",{className:"tech__title",children:"Git"})})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("div",{className:"tech",children:Object(d.jsx)("p",{className:"tech__title",children:"Express.js"})})}),Object(d.jsx)("li",{className:"techs__item",children:Object(d.jsx)("div",{className:"tech",children:Object(d.jsx)("p",{className:"tech__title",children:"mongoDB"})})})]})]})]})},_=(a(61),a(62),a(63),a(5));var f=function(e){return Object(d.jsx)(d.Fragment,{children:e.loggedIn?Object(d.jsxs)("nav",{className:"nav ".concat(e.isMenuOpen?"nav_open":""," nav_with-menu"),children:[Object(d.jsx)("div",{className:"nav__burger-icon",onClick:e.toggleMenu}),Object(d.jsx)("div",{className:"nav__overlay"}),Object(d.jsxs)("div",{className:"nav__menu",children:[Object(d.jsxs)("ul",{className:"nav__links",children:[Object(d.jsx)("li",{className:"nav__item",children:Object(d.jsx)(_.c,{className:"nav__link nav__link_to_main",exact:!0,to:"/",activeClassName:"nav__link_active",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(d.jsx)("li",{className:"nav__item",children:Object(d.jsx)(_.c,{className:"nav__link nav__link_to_movies",to:"/movies",activeClassName:"nav__link_active",children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(d.jsx)("li",{className:"nav__item",children:Object(d.jsx)(_.c,{className:"nav__link nav__link_to_saved-movies",to:"/saved-movies",activeClassName:"nav__link_active",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})})]}),Object(d.jsx)(_.c,{className:"nav__link nav__link_to_my-account",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(d.jsx)("div",{className:"nav__close-button",onClick:e.toggleMenu})]})]}):Object(d.jsx)("nav",{className:"nav",children:Object(d.jsx)("div",{className:"nav__menu",children:Object(d.jsxs)("ul",{className:"nav__links",children:[Object(d.jsx)("li",{className:"nav__item",children:Object(d.jsx)(_.c,{className:"nav__link nav__link_to_signup",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(d.jsx)("li",{className:"nav__item",children:Object(d.jsx)(_.c,{className:"nav__link nav__link_to_signin",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})})]})})})})};a(69);var v=function(e){return Object(d.jsx)(_.b,{to:"/",className:"logo",children:Object(d.jsxs)("svg",{className:"logo__img",width:"38",height:"38",viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(d.jsx)("path",{className:"logo__part",d:"M0 12.6667C0 8.23292 0 6.01604 0.862865 4.32258C1.62186 2.83296 2.83296 1.62186 4.32258 0.862865C6.01604 0 8.23292 0 12.6667 0H25.3333C29.7671 0 31.984 0 33.6774 0.862865C35.167 1.62186 36.3781 2.83296 37.1371 4.32258C38 6.01604 38 8.23292 38 12.6667V25.3333C38 29.7671 38 31.984 37.1371 33.6774C36.3781 35.167 35.167 36.3781 33.6774 37.1371C31.984 38 29.7671 38 25.3333 38H12.6667C8.23292 38 6.01604 38 4.32258 37.1371C2.83296 36.3781 1.62186 35.167 0.862865 33.6774C0 31.984 0 29.7671 0 25.3333V12.6667Z",fill:"#2BE080"}),Object(d.jsx)("circle",{cx:"19",cy:"19",r:"11",fill:"white"}),Object(d.jsx)("path",{className:"logo__part",fillRule:"evenodd",clipRule:"evenodd",d:"M15.1538 19C15.1538 21.1242 16.8758 22.8462 19 22.8462C21.1242 22.8462 22.8462 21.1242 22.8462 19H25C25 22.3137 22.3137 25 19 25C15.6863 25 13 22.3137 13 19H15.1538Z",fill:"#2BE080"})]})})};var O=function(e){var t=n.a.useState(!1),a=Object(o.a)(t,2),s=a[0],c=a[1];return Object(d.jsxs)("header",{className:"header ".concat(e.loggedIn?"header_logged-in":""),children:[Object(d.jsx)(v,{}),Object(d.jsx)(f,{loggedIn:e.loggedIn,isMenuOpen:s,toggleMenu:function(){c(!s)}})]})},p=(a(70),a(21));var x=function(e){return Object(d.jsx)("div",{className:"nav-tab",children:Object(d.jsxs)("ul",{className:"nav-tab__list",children:[Object(d.jsx)("li",{className:"nav-tab__item",children:Object(d.jsx)(p.a,{className:"nav-tab__link",to:"/#about-project",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"})}),Object(d.jsx)("li",{className:"nav-tab__item",children:Object(d.jsx)(p.a,{className:"nav-tab__link",to:"/#techs",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})}),Object(d.jsx)("li",{className:"nav-tab__item",children:Object(d.jsx)(p.a,{className:"nav-tab__link",to:"/#about-me",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"})})]})})};a(71);var g=function(e){return Object(d.jsxs)("div",{className:"promo",children:[Object(d.jsx)("div",{className:"promo__logo"}),Object(d.jsx)("h1",{className:"promo__heading",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]})};var N=function(e){return Object(d.jsxs)("div",{className:"hero",children:[Object(d.jsx)(O,{loggedIn:e.loggedIn}),Object(d.jsx)(g,{}),Object(d.jsx)(x,{})]})};a(72);var k=function(e){return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("p",{className:"footer__author",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(d.jsx)("hr",{className:"footer__line"}),Object(d.jsxs)("div",{className:"footer__content",children:[Object(d.jsxs)("p",{className:"footer__copyright",children:["\xa9 ",(new Date).getFullYear()]}),Object(d.jsxs)("ul",{className:"footer__links",children:[Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{className:"footer__link",href:"https://practicum.yandex.ru/profile/web/",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{className:"footer__link",href:"https://github.com/maximka76667",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(d.jsx)("li",{className:"footer__item",children:Object(d.jsx)("a",{className:"footer__link",href:"https://www.facebook.com/profile.php?id=100057730898201",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})]})]})};var S=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(N,{loggedIn:e.loggedIn}),Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)(m,{}),Object(d.jsx)(b,{}),Object(d.jsx)(j,{}),Object(d.jsx)(h,{})]}),Object(d.jsx)(k,{})]})},C=a(4);a(73);var y=function(e){return Object(d.jsx)("div",{className:"cards-not-found",children:Object(d.jsx)("p",{className:"cards-not-found__text",children:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0434\u0430\u043b \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432."})})};a(74);var w=function(e){return Object(d.jsx)("div",{className:"more",children:!e.isAllCardsRendered&&Object(d.jsx)("button",{className:"more__button",onClick:function(){return e.renderCardList(e.countCardsOfWidth,e.cardList)},children:"\u0415\u0449\u0451"})})};a(75);var M=function(e){var t,a=n.a.useState(""),s=Object(o.a)(a,2),c=s[0],i=s[1],r=n.a.useState(!1),l=Object(o.a)(r,2),j=l[0],u=l[1];return n.a.useEffect((function(){u(e.savedMovies.find((function(t){return t.movieId===e.card.id||t.movieId===e.card.movieId}))),e.savedMovies.forEach((function(t){t.movieId!==e.card.id&&t.movieId!==e.card.movieId||i(t._id)}))}),[e.cardList,e.savedMovies]),Object(d.jsxs)("div",{className:"card ".concat(j?"card_saved":""),children:[Object(d.jsx)("a",{className:"card__poster",href:null!==(t=e.card.trailerLink)&&void 0!==t?t:e.card.trailer,rel:"noreferrer",target:"_blank",children:Object(d.jsx)("img",{className:"card__poster-img",src:e.card.image.url?"https://api.nomoreparties.co".concat(e.card.image.url):e.card.image,alt:e.card.nameEN})}),Object(d.jsxs)("div",{className:"card__info",children:[Object(d.jsx)("h2",{className:"card__name",children:e.card.nameRU}),Object(d.jsx)("p",{className:"card__duration",children:function(e){var t=(e-e%60)/60,a=e-60*t;return"".concat(t?t+"\u0447":""," ").concat(a?a+"\u043c":"")}(e.card.duration)})]}),Object(d.jsx)("button",{className:"card__save-button",onClick:function(){j&&(u(!1),e.onUnsaveMovie(c)),j||(e.onSaveMovie(e.card),u(!0))},children:!j&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})};a(76);var L=function(e){return Object(d.jsx)("div",{className:"preloader",children:Object(d.jsx)("div",{className:"preloader__container",children:Object(d.jsx)("span",{className:"preloader__round"})})})};a(77);var E=function(e){var t=Object(C.g)(),a=n.a.useState([]),s=Object(o.a)(a,2),c=s[0],i=s[1],l=n.a.useState(!0),j=Object(o.a)(l,2),u=j[0],m=j[1],h=n.a.useState(0),b=Object(o.a)(h,2),_=b[0],f=b[1];function v(a,s){m(!1);for(var n=[],c="/saved-movies"===t.pathname?e.cardList.length:a,o=0;o<c;o++){var l=o+s.length,d=e.cardList[l]||0;if(l>=e.cardList.length-1){l===e.cardList.length-1&&n.push(d),m(!0);break}n.push(d)}i([].concat(Object(r.a)(s),n))}function O(){var e=window.innerWidth;e>800&&f(3),e>650&&e<=800&&f(2),e<=650&&f(1)}n.a.useEffect((function(){v(_,[])}),[e.cardList]);var p=function(){O()};return n.a.useEffect((function(){v(_,[])}),[_]),n.a.useEffect((function(){if(0===c.length)return m(!0)}),[c]),n.a.useEffect((function(){return window.addEventListener("resize",p),O(),v(_,[]),m(!1),function(){window.removeEventListener("resize",p)}}),[]),Object(d.jsxs)("div",{className:"card-list",children:[e.isSearching&&Object(d.jsx)(L,{}),!e.isSearching&&e.isNotFound&&Object(d.jsx)(y,{}),!e.isSearching&&!e.isNotFound&&e.isResult&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"card-list__container",children:c.map((function(t){return Object(d.jsx)(M,{card:t,cardId:t._id,onSaveMovie:e.onSaveMovie,onUnsaveMovie:e.onUnsaveMovie,cardList:c,savedMovies:e.savedMovies},t.id||t.movieId)}))}),Object(d.jsx)(w,{renderCardList:v,isAllCardsRendered:u,countCardsOfWidth:_,cardList:c})]})]})};a(78);var I=function(e){return Object(d.jsx)("div",{className:"filter-checkbox",children:Object(d.jsxs)("label",{className:"filter-checkbox__container",children:[Object(d.jsxs)("div",{className:"filter-checkbox__switch",children:[Object(d.jsx)("input",{className:"filter-checkbox__input ".concat(e.isShort?"filter-checkbox__input_active":""),onClick:e.changeMoviesType,name:"short",id:"short",type:"checkbox"}),Object(d.jsx)("span",{className:"filter-checkbox__slider"})]}),Object(d.jsx)("p",{className:"filter-checkbox__label",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0430"})]})})};a(79);var R=function(e){var t=n.a.useState(""),a=Object(o.a)(t,2),s=a[0],c=a[1],i=n.a.useState(!1),r=Object(o.a)(i,2),l=r[0],j=r[1];return n.a.useEffect((function(){s&&e.onSubmit(s,l)}),[l]),Object(d.jsxs)("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),e.onSubmit(s,l)},children:[Object(d.jsx)("input",{className:"search-form__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",name:"searchValue",id:"searchValue",value:s,onChange:function(e){e.preventDefault(),c(e.target.value)}}),Object(d.jsx)("button",{className:"search-form__submit-button",type:"submit",children:"\u041d\u0430\u0439\u0442\u0438"}),Object(d.jsx)(I,{isShort:l,changeMoviesType:function(e){j(!l)}}),Object(d.jsx)("hr",{className:"search-form__line"})]})};var U=function(e){return n.a.useEffect((function(){e.initSavedMovies()}),[e.savedMovies]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{loggedIn:e.loggedIn}),Object(d.jsxs)("main",{className:"saved-movies",children:[Object(d.jsx)(R,{onSubmit:e.onSearchMyMovies}),Object(d.jsx)(E,{clearCardList:e.clearCardList,renderedCardList:e.renderedCardList,isAllCardsRendered:e.isAllCardsRendered,countCardsOfWidth:e.countCardsOfWidth,setRenderedCardList:e.setRenderedCardList,setIsAllCardsRendered:e.setIsAllCardsRendered,setCountCardsOfWidth:e.setCountCardsOfWidth,isSearching:e.isSearching,isResult:e.isResult,cardList:e.cardList,isNotFound:e.isNotFound,onSaveMovie:e.onSaveMovie,onUnsaveMovie:e.onUnsaveMovie,savedMovies:e.savedMovies})]}),Object(d.jsx)(k,{})]})},T=(a(80),n.a.createContext()),F=a(13),A=a.n(F);var P=function(e){var t=n.a.useContext(T),a=n.a.useState(t.name),s=Object(o.a)(a,2),c=s[0],i=s[1],r=n.a.useState(t.email),l=Object(o.a)(r,2),j=l[0],u=l[1],m=n.a.useState(!1),h=Object(o.a)(m,2),b=h[0],_=h[1],f=n.a.useState(!1),v=Object(o.a)(f,2),p=v[0],x=v[1],g=n.a.useState(!1),N=Object(o.a)(g,2),k=N[0],S=N[1],C="profile__field-value ".concat(e.isEdit?"profile__field-value_edit":""," ").concat(b?"profile__field-value_error":""),y="profile__field-value ".concat(e.isEdit?"profile__field-value_edit":""," ").concat(p?"profile__field-value_error":"");function w(e){var t=e.target;switch(t.name){case"name":if(!t.validity.valid)return void _(!0);_(!1);break;case"email":if(!t.validity.valid||!A.a.isEmail(t.value))return void x(!0);x(!1)}}return n.a.useEffect((function(){i(t.name),u(t.email)}),[t]),n.a.useEffect((function(){return c===t.name&&j===t.email?S(!1):S(!b&&!p)}),[c,j,t,b,p]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{loggedIn:e.loggedIn}),Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsxs)("h1",{className:"profile__greeting",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",t.name]}),Object(d.jsxs)("form",{className:"profile__content",onSubmit:function(a){a.preventDefault(),e.isEdit||e.changeIsEdit(!0),e.isEdit&&(e.onUserUpdate({name:c,email:j}),i(t.name),u(t.email))},children:[Object(d.jsxs)("div",{className:"profile__info",children:[Object(d.jsxs)("div",{className:"profile__field",children:[Object(d.jsx)("h2",{className:"profile__field-name",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{className:C,onChange:function(t){e.isEdit&&(i(t.target.value),w(t))},type:"text",name:"name",value:c,disabled:!e.isEdit,required:!0})]}),Object(d.jsx)("hr",{className:"profile__line"}),Object(d.jsxs)("div",{className:"profile__field",children:[Object(d.jsx)("h2",{className:"profile__field-name",children:"E-mail"}),Object(d.jsx)("input",{className:y,onChange:function(t){e.isEdit&&(u(t.target.value),w(t))},type:"email",name:"email",value:j,disabled:!e.isEdit,required:!0})]})]}),Object(d.jsx)("button",{className:"profile__edit-button",type:"submit",disabled:!!e.isEdit&&(!k||e.isLoading),children:e.isEdit?e.isLoading?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(d.jsx)("button",{className:"profile__exit-button",onClick:function(t){t.preventDefault(),e.onLogout()},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})]})};a(159);var z=function(e){var t=n.a.useState(""),a=Object(o.a)(t,2),s=a[0],c=a[1],i=n.a.useState(""),r=Object(o.a)(i,2),l=r[0],j=r[1],u=n.a.useState(""),m=Object(o.a)(u,2),h=m[0],b=m[1],f=n.a.useState(""),O=Object(o.a)(f,2),p=O[0],x=O[1],g=n.a.useState(""),N=Object(o.a)(g,2),k=N[0],S=N[1],C=n.a.useState(""),y=Object(o.a)(C,2),w=y[0],M=y[1],L=n.a.useState(!1),E=Object(o.a)(L,2),I=E[0],R=E[1],U=n.a.useState(!1),T=Object(o.a)(U,2),F=T[0],P=T[1],z=n.a.useState(!1),B=Object(o.a)(z,2),W=B[0],D=B[1],J=n.a.useState(!1),q=Object(o.a)(J,2),H=q[0],G=q[1],V="register__form-input ".concat(I?"register__form-input_error":""),Z="register__form-input ".concat(F?"register__form-input_error":""),Y="register__form-input ".concat(W?"register__form-input_error":"");function K(e){var t=e.target;switch(t.name){case"name":if(!t.validity.valid)return R(!0),void x(t.validationMessage);R(!1),x("");break;case"email":if(!t.validity.valid||!A.a.isEmail(t.value))return P(!0),void S(t.validationMessage);P(!1),S("");break;case"password":if(!t.validity.valid)return D(!0),void M(t.validationMessage);D(!1),M("")}}return n.a.useEffect((function(){return G(!(I||F||W))}),[I,F,W,s,l,h]),n.a.useEffect((function(){R(!0),P(!0),D(!0),G(!1)}),[]),Object(d.jsx)("div",{className:"register",children:Object(d.jsxs)("div",{className:"register__content",children:[Object(d.jsx)(v,{}),Object(d.jsx)("h1",{className:"register__heading",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(d.jsxs)("form",{className:"register__form",onSubmit:function(t){t.preventDefault(),e.onRegister({name:s,email:l,password:h})},children:[Object(d.jsxs)("div",{className:"register__form-field",children:[Object(d.jsx)("label",{className:"register__form-label",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{className:V,name:"name",type:"text",value:s,onChange:function(e){c(e.target.value),K(e)},required:!0}),Object(d.jsx)("p",{className:"register__form-error",children:p})]}),Object(d.jsxs)("div",{className:"register__form-field",children:[Object(d.jsx)("label",{className:"register__form-label",children:"E-mail"}),Object(d.jsx)("input",{className:Z,name:"email",type:"email",value:l,onChange:function(e){j(e.target.value),K(e)},required:!0}),Object(d.jsx)("p",{className:"register__form-error",children:k})]}),Object(d.jsxs)("div",{className:"register__form-field",children:[Object(d.jsx)("label",{className:"register__form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{className:Y,name:"password",type:"password",value:h,onChange:function(e){b(e.target.value),K(e)},required:!0}),Object(d.jsx)("p",{className:"register__form-error",children:w})]}),Object(d.jsx)("button",{className:"register__submit-button",type:"submit",disabled:!H||e.isLoading,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(d.jsxs)("p",{className:"register__login",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(d.jsx)(_.b,{className:"register__login-link",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};a(160);var B=function(e){var t=n.a.useState(""),a=Object(o.a)(t,2),s=a[0],c=a[1],i=n.a.useState(""),r=Object(o.a)(i,2),l=r[0],j=r[1],u=n.a.useState(""),m=Object(o.a)(u,2),h=m[0],b=m[1],f=n.a.useState(""),O=Object(o.a)(f,2),p=O[0],x=O[1],g=n.a.useState(!1),N=Object(o.a)(g,2),k=N[0],S=N[1],C=n.a.useState(!1),y=Object(o.a)(C,2),w=y[0],M=y[1],L=n.a.useState(!1),E=Object(o.a)(L,2),I=E[0],R=E[1],U="login__form-input ".concat(k?"login__form-input_error":""),T="login__form-input ".concat(w?"login__form-input_error":"");function F(e){var t=e.target;switch(t.name){case"email":if(!t.validity.valid||!A.a.isEmail(t.value))return S(!0),void b(t.validationMessage);S(!1),b("");break;case"password":if(!t.validity.valid)return M(!0),void x(t.validationMessage);M(!1),x("")}}return n.a.useEffect((function(){return R(!k&&!w)}),[k,w,s,l]),n.a.useEffect((function(){S(!0),M(!0),R(!1)}),[]),Object(d.jsx)("div",{className:"login",children:Object(d.jsxs)("div",{className:"login__content",children:[Object(d.jsx)(v,{}),Object(d.jsx)("h1",{className:"login__heading",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(d.jsxs)("form",{className:"login__form",onSubmit:function(t){t.preventDefault(),e.onLogin({email:s,password:l})},children:[Object(d.jsxs)("div",{className:"login__form-field",children:[Object(d.jsx)("label",{className:"login__form-label",children:"E-mail"}),Object(d.jsx)("input",{className:U,name:"email",type:"email",value:s,onChange:function(e){c(e.target.value),F(e)},required:!0}),Object(d.jsx)("p",{className:"login__form-error",children:h})]}),Object(d.jsxs)("div",{className:"login__form-field",children:[Object(d.jsx)("label",{className:"login__form-label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{className:T,name:"password",type:"password",value:l,onChange:function(e){j(e.target.value),F(e)},required:!0}),Object(d.jsx)("p",{className:"login__form-error",children:p})]}),Object(d.jsx)("button",{className:"login__submit-button",type:"submit",disabled:!I||e.isLoading,children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(d.jsxs)("p",{className:"login__register",children:["\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(d.jsx)(_.b,{className:"login__register-link",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})};a(161);var W=function(e){return Object(d.jsxs)("div",{className:"not-found",children:[Object(d.jsx)("h1",{className:"not-found__error-code",children:"404"}),Object(d.jsx)("p",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(d.jsx)(_.b,{className:"not-found__link",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})},D=a(14),J=a(15),q=new(function(){function e(t){var a=t.baseUrl;Object(D.a)(this,e),this._baseUrl=a}return Object(J.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"register",value:function(e){return fetch("".concat(this._baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password})}).then(this._checkResponse)}},{key:"login",value:function(e){return fetch("".concat(this._baseUrl,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}).then(this._checkResponse)}},{key:"signout",value:function(e){return fetch("".concat(this._baseUrl,"/signout"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}},{key:"getEmail",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(this._checkResponse)}}]),e}())({baseUrl:"https://calm-everglades-07404.herokuapp.com"}),H=new(function(){function e(t){var a=t.baseUrl,s=t.authorization;Object(D.a)(this,e),this._baseUrl=a,this._token=s}return Object(J.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"getSavedMovies",value:function(){return fetch("".concat(this._baseUrl,"/movies"),{headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkResponse)}},{key:"getProfileInfo",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkResponse)}},{key:"setProfileInfo",value:function(e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email})}).then(this._checkResponse)}},{key:"saveMovie",value:function(e){return fetch("".concat(this._baseUrl,"/movies"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:e.image.url?"https://api.nomoreparties.co".concat(e.image.url):e.image,trailer:e.trailerLink?e.trailerLink:"https://yandex.ru",thumbnail:e.trailerLink?e.trailerLink:"https://yandex.ru",movieId:e.id||e.movieId,nameRU:e.nameRU,nameEN:e.nameEN})}).then(this._checkResponse)}},{key:"unsaveMovie",value:function(e){return fetch("".concat(this._baseUrl,"/movies/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then(this._checkResponse)}},{key:"changeToken",value:function(e){this._token="Bearer ".concat(e)}}]),e}())({baseUrl:"https://calm-everglades-07404.herokuapp.com"}),G=new(function(){function e(t){var a=t.baseUrl,s=t.authorization;Object(D.a)(this,e),this._baseUrl=a,this._token=s}return Object(J.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"getMovies",value:function(){return fetch(this._baseUrl).then(this._checkResponse)}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies"}),V=a(46),Z=a(47),Y=["component"],K=function(e){var t=e.component,a=Object(Z.a)(e,Y);return Object(d.jsx)(C.b,{children:function(){return a.loggedIn?Object(d.jsx)(t,Object(V.a)({},a)):Object(d.jsx)(C.a,{to:"/"})}})};var Q=function(e){return n.a.useEffect((function(){e.clearCardList(),e.uploadLocalStorage()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O,{loggedIn:e.loggedIn}),Object(d.jsxs)("main",{className:"movies",children:[Object(d.jsx)(R,{onSubmit:e.onSearch}),Object(d.jsx)(E,{clearCardList:e.clearCardList,renderedCardList:e.renderedCardList,isAllCardsRendered:e.isAllCardsRendered,countCardsOfWidth:e.countCardsOfWidth,setRenderedCardList:e.setRenderedCardList,setIsAllCardsRendered:e.setIsAllCardsRendered,setCountCardsOfWidth:e.setCountCardsOfWidth,isSearching:e.isSearching,isResult:e.isResult,isNotFound:e.isNotFound,cardList:e.cardList,onSaveMovie:e.onSaveMovie,onUnsaveMovie:e.onUnsaveMovie,savedMovies:e.savedMovies})]}),Object(d.jsx)(k,{})]})},X=a.p+"static/media/fail-icon.d4ce2a26.svg",$=a.p+"static/media/success-icon.a9eb6caf.svg";a(162);var ee=function(e){return Object(d.jsxs)("div",{className:"popup popup_type_info ".concat(e.isOpen?"popup_opened":""),children:[Object(d.jsx)("div",{className:"popup__overlay",onClick:e.onClose}),Object(d.jsxs)("div",{className:"popup__container popup__container_type_info",children:[Object(d.jsx)("img",{className:"popup__result",src:e.result?$:X,alt:"infoTooltipResult"}),Object(d.jsx)("h2",{className:"popup__title popup__title_type_info",children:e.message}),Object(d.jsx)("button",{className:"popup__close-button",type:"button",onClick:e.onClose})]})]})},te="\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.",ae="\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e.",se="\u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u043f\u0440\u043e\u0448\u0435\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e.",ne="\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430.",ce="\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0432 \u043f\u043e\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430.",ie="\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.";function re(e,t,a){var s=new RegExp(t.toLowerCase());return e.filter((function(e){return s.test(e.nameRU.toLowerCase())})).filter((function(e){return a?e.duration<=40:e.duration>40}))}var oe=Object(C.h)((function(e){var t=Object(C.g)(),a=n.a.useState({}),s=Object(o.a)(a,2),c=s[0],i=s[1],l=n.a.useState(!1),j=Object(o.a)(l,2),u=j[0],m=j[1],h=n.a.useState(!1),b=Object(o.a)(h,2),_=b[0],f=b[1],v=n.a.useState([]),O=Object(o.a)(v,2),p=O[0],x=O[1],g=n.a.useState([]),N=Object(o.a)(g,2),k=N[0],y=N[1],w=n.a.useState([]),M=Object(o.a)(w,2),L=M[0],E=M[1],I=n.a.useState(!1),R=Object(o.a)(I,2),F=R[0],A=R[1],D=n.a.useState(!1),J=Object(o.a)(D,2),V=J[0],Z=J[1],Y=n.a.useState(!1),X=Object(o.a)(Y,2),$=X[0],oe=X[1],le=n.a.useState([]),de=Object(o.a)(le,2),je=de[0],ue=de[1],me=n.a.useState(!1),he=Object(o.a)(me,2),be=he[0],_e=he[1],fe=n.a.useState(!1),ve=Object(o.a)(fe,2),Oe=ve[0],pe=ve[1],xe=n.a.useState(!1),ge=Object(o.a)(xe,2),Ne=ge[0],ke=ge[1],Se=n.a.useState(""),Ce=Object(o.a)(Se,2),ye=Ce[0],we=Ce[1];function Me(e){var t=e.email,a=e.password;f(!0),q.login({email:t,password:a}).then((function(e){e.token&&Le(e.token),Te(!0,te)})).catch((function(e){return Ue(e)})).finally((function(){return f(!1)}))}function Le(a){var s=t.pathname;q.getEmail(a).then((function(t){localStorage.setItem("token",a),m(!0),H.changeToken(a),i(t.user),"/signin"===s||"/signup"===s?e.history.push("/movies"):e.history.push(s),H.getSavedMovies().then((function(e){var a=e.movies.filter((function(e){return e.owner===t.user._id}));ue(a)}))})).catch((function(e){return Ue(e)}))}function Ee(){oe(!1)}function Ie(e){H.saveMovie(e).then((function(e){return ue([e.movie].concat(Object(r.a)(je)))})).catch((function(e){return Ue(e)}))}function Re(e){H.unsaveMovie(e).then((function(e){var t=je.filter((function(t){return e.movie._id!==t._id}));ue(t)})).catch((function(e){return console.log(e)}))}function Ue(e){console.log(e),Te(!1,ie)}function Te(e,t){pe(e),we(t),ke(!0)}return n.a.useEffect((function(){!function(){if(localStorage.getItem("token"))Le(localStorage.getItem("token"))}(),Z(!0),G.getMovies().then((function(e){y(e)})).catch((function(e){return Ue(e)})).finally((function(){return Z(!1)}))}),[]),Object(d.jsx)(T.Provider,{value:c,children:Object(d.jsxs)("div",{className:"app",children:[Object(d.jsxs)(C.d,{children:[Object(d.jsx)(C.b,{path:"/signup",exact:!0,children:Object(d.jsx)(z,{onRegister:function(e){var t=e.name,a=e.email,s=e.password;f(!0),q.register({name:t,email:a,password:s}).then((function(){Te(!0,ae),Me({email:a,password:s})})).catch((function(e){return Ue(e)})).finally((function(){return f(!1)}))}})}),Object(d.jsx)(C.b,{path:"/signin",exact:!0,children:Object(d.jsx)(B,{onLogin:Me})}),Object(d.jsx)(C.b,{path:"/",exact:!0,children:Object(d.jsx)(S,{loggedIn:u})}),Object(d.jsx)(K,{path:"/profile",exact:!0,component:P,loggedIn:u,onUserUpdate:function(e){var t=e.name,a=e.email;be&&(f(!0),H.setProfileInfo({name:t,email:a}).then((function(e){i(e.user),Te(!0,ne)})).catch((function(e){i(c),Ue(e)})).finally((function(){f(!1),_e(!1)})))},onLogout:function(){q.signout(localStorage.getItem("token")).then((function(){m(!1),H.changeToken(""),i(null),localStorage.removeItem("token"),localStorage.removeItem("movies"),e.history.push("/"),Te(!0,se)})).catch((function(e){return Ue(e)}))},isLoading:_,changeIsEdit:function(e){_e(e)},isEdit:be}),Object(d.jsx)(K,{path:"/movies",exact:!0,component:Q,loggedIn:u,isResult:$,isNotFound:F,isSearching:V,onSearch:function(e,t){if(oe(!1),!e)return Te(!1,ce);var a=re(k,e,t);if(0===(null===a||void 0===a?void 0:a.length))return A(!0);localStorage.setItem("movies",JSON.stringify(a)),E(a),A(!1),oe(!0)},onSaveMovie:Ie,onUnsaveMovie:Re,cardList:L,savedMovies:je,clearCardList:Ee,uploadLocalStorage:function(){E(JSON.parse(localStorage.getItem("movies")||"[]")),oe(!0)}}),Object(d.jsx)(K,{path:"/saved-movies",exact:!0,component:U,loggedIn:u,isResult:$,isNotFound:F,isSearching:V,onSaveMovie:Ie,onUnsaveMovie:Re,cardList:L,savedMovies:je,initSavedMovies:function(){A(!1),oe(!0),x(je),E(je)},clearCardList:Ee,onSearchMyMovies:function(e,t){if(!e)return Te(!1,ce);if(0===p.length)return A(!0);var a=re(p,e,t);if(0===a.length)return A(!0);E(a),A(!1)}}),Object(d.jsx)(C.b,{path:"/",children:Object(d.jsx)(W,{})})]}),Object(d.jsx)(ee,{isOpen:Ne,result:Oe,onClose:function(){ke(!1)},message:ye})]})})})),le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,164)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(_.a,{children:Object(d.jsx)(oe,{})})}),document.getElementById("root")),le()},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){}},[[163,1,2]]]);
//# sourceMappingURL=main.3676459f.chunk.js.map