{"version":3,"sources":["images/about-me-photo.jpg","components/AboutMe/AboutMe.js","components/Timeline/Timeline.js","components/AboutProject/AboutProject.js","components/Portfolio/Portfolio.js","components/Techs/Techs.js","components/Navigation/Navigation.js","components/Logo/Logo.js","components/Header/Header.js","components/NavTab/NavTab.js","components/Promo/Promo.js","components/Hero/Hero.js","components/Footer/Footer.js","components/Main/Main.js","components/CardsNotFound/CardsNotFound.js","components/More/More.js","components/MoviesCard/MoviesCard.js","components/Preloader/Preloader.js","components/MoviesCardList/MoviesCardList.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/SavedMovies/SavedMovies.js","contexts/CurrentUserContext.js","components/Profile/Profile.js","components/Register/Register.js","components/Login/Login.js","components/NotFound/NotFound.js","utils/Auth.js","utils/MainApi.js","utils/MoviesApi.js","components/ProtectedRoute/ProtectedRoute.js","components/Movies/Movies.js","images/fail-icon.svg","images/success-icon.svg","components/InfoTooltip/InfoTooltip.js","config.js","utils/filter.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["AboutMe","props","id","className","href","target","rel","src","aboutMePhoto","alt","Timeline","AboutProject","Portfolio","Techs","Navigation","loggedIn","isMenuOpen","onClick","toggleMenu","exact","to","activeClassName","Logo","width","height","viewBox","fill","xmlns","d","cx","cy","r","fillRule","clipRule","Header","React","useState","setIsMenuOpen","NavTab","Promo","Hero","Footer","Date","getFullYear","Main","CardsNotFound","More","isAllCardsRendered","renderCardList","countCardsOfWidth","cardList","MoviesCard","cardId","setCardId","isSaved","setIsSaved","useEffect","savedMovies","find","movie","movieId","card","forEach","_id","trailerLink","trailer","image","url","nameEN","nameRU","duration","hours","minutes","formatDuration","onUnsaveMovie","onSaveMovie","Preloader","MoviesCardList","location","useLocation","setCardList","setIsAllCardsRendered","setCountCardsOfWidth","cardsForRender","countCardsForRender","pathname","length","i","newCardIndex","newCard","push","checkCountOfCards","window","innerWidth","checkCountOfCardsCallback","addEventListener","removeEventListener","isSearching","isNotFound","isResult","map","FilterCheckbox","isShort","changeMoviesType","name","type","SearchForm","searchValue","setSearchValue","setIsShort","onSubmit","e","preventDefault","placeholder","value","onChange","SavedMovies","initSavedMovies","onSearchMyMovies","clearCardList","renderedCardList","setRenderedCardList","CurrentUserContext","createContext","Profile","currentUser","useContext","setName","email","setEmail","isNameError","setIsNameError","isEmailError","setIsEmailError","isSubmitValid","setIsSubmitValid","inputNameClassName","isEdit","inputEmailClassName","handleValidation","inputElement","validity","valid","validator","isEmail","changeIsEdit","onUserUpdate","disabled","required","isLoading","onLogout","Register","password","setPassword","nameError","setNameError","emailError","setEmailError","passwordError","setPasswordError","isPasswordError","setIsPasswordError","nameInputClassName","emailInputClassName","passwordInputClassName","validationMessage","onRegister","Login","onLogin","NotFound","auth","baseUrl","this","_baseUrl","res","ok","json","Promise","reject","status","data","fetch","method","headers","body","JSON","stringify","then","_checkResponse","token","mainApi","authorization","_token","country","director","year","description","thumbnail","moviesApi","ProtectedRoute","Component","component","Movies","uploadLocalStorage","onSearch","InfoTooltip","isOpen","onClose","result","success","fail","message","MESSAGES","filter","regExp","RegExp","toLowerCase","test","m","withRouter","setCurrentUser","setLoggedIn","setIsLoading","initSavedCardList","setInitSavedCardList","initCardList","setInitCardList","setIsNotFound","setIsSearching","setIsResult","setSavedMovies","setIsEdit","resultSuccessful","setResultSuccessful","isInfoTooltipOpen","setIsInfoTooltipOpen","infoMessage","setInfoMessage","handleLogin","login","handleAuth","handleInfo","catch","err","handleError","finally","requestedPathname","getEmail","localStorage","setItem","changeToken","user","history","getSavedMovies","movies","filteredMovies","owner","handleSaveMovie","saveMovie","handleUnsaveMovie","unsaveMovie","deletedCard","newSavedMovies","movieCard","console","log","error","getItem","handleTokenCheck","getMovies","Provider","path","register","setProfileInfo","signout","removeItem","newIsEdit","parse","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3676459f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/about-me-photo.0e66065c.jpg\";","import './AboutMe.css'\nimport aboutMePhoto from '../../images/about-me-photo.jpg'\n\nfunction AboutMe(props) {\n  return (\n    <div id=\"about-me\" className=\"about-me\">\n      <h2 className=\"about-me__heading\">Студент</h2>\n      <hr className=\"about-me__line\" />\n      <div className=\"about-me__content\">\n        <div className=\"about-me__info\">\n          <h3 className=\"about-me__name\">Максим</h3>\n          <h4 className=\"about-me__short\">Фронтенд-разработчик, 18 лет</h4>\n          <p className=\"about-me__story\">Я родился в Астане, сейчас живу в Сантьяго-Де-Компостела. Учусь в колледже разработки приложений.\n            Я люблю слушать музыку, а ещё увлекаюсь видеиграми. В этом году начал кодить.\n          </p>\n          <ul className=\"about-me__links\">\n            <li className=\"about-me__item\"><a className=\"about-me__link\" href=\"https://www.facebook.com/profile.php?id=100057730898201\" target=\"_blank\" rel=\"noreferrer\">Facebook</a></li>\n            <li className=\"about-me__item\"><a className=\"about-me__link\" href=\"https://github.com/maximka76667\" target=\"_blank\" rel=\"noreferrer\">Github</a></li>\n          </ul>\n        </div>\n        <img className=\"about-me__photo\" src={aboutMePhoto} alt=\"Фото портфолио\" />\n      </div>\n    </div>\n  )\n}\n\nexport default AboutMe;","import './Timeline.css'\n\nfunction Timeline(props) {\n  return (\n    <div className=\"timeline\">\n      <div className=\"timeline__block timeline__block_type_backend\">\n        <p className=\"timeline__time\">1 неделя</p>\n      </div>\n      <div className=\"timeline__block timeline__block_type_frontend\">\n        <p className=\"timeline__time\">4 недели</p>\n      </div>\n      <div className=\"timeline__block\">\n        <p className=\"timeline__part-name\">Back-End</p>\n      </div>\n      <div className=\"timeline__block\">\n        <p className=\"timeline__part-name\">Front-End</p>\n      </div>\n    </div>\n  )\n}\n\nexport default Timeline;","import Timeline from '../Timeline/Timeline';\nimport './AboutProject.css'\n\nfunction AboutProject(props) {\n  return (\n    <div id=\"about-project\" className=\"about-project\">\n      <h2 className=\"about-project__heading\">О проекте</h2>\n      <hr className=\"about-project__line\" />\n      <div className=\"about-project__content\">\n        <div className=\"about-project__info\">\n          <div className=\"about-project__card\">\n            <h3 className=\"about-project__card-title\">Дипломный проект включал 5 этапов</h3>\n            <p className=\"about-project__card-text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n          </div>\n          <div className=\"about-project__card\">\n            <h3 className=\"about-project__card-title\">На выполнение диплома ушло 5 недель</h3>\n            <p className=\"about-project__card-text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n          </div>\n        </div>\n        <Timeline />\n      </div>\n    </div>\n  )\n}\n\nexport default AboutProject;","import './Portfolio.css'\n\nfunction Portfolio(props) {\n  return (\n    <div className=\"portfolio\">\n      <h2 className=\"portfolio__heading\">Портфолио</h2>\n      <ul className=\"works\">\n        <li className=\"works__item\">\n          <a className=\"work\" href=\"https://maximka76667.github.io/how-to-learn/\">\n            <p className=\"work__name\">Статичный сайт</p>\n            <p className=\"work__arrow\">↗</p>\n          </a>\n        </li>\n        <li className=\"works__item\">\n          <a className=\"work\" href=\"https://maximka76667.github.io/russian-travel/\">\n            <p className=\"work__name\">Адаптивный сайт</p>\n            <p className=\"work__arrow\">↗</p>\n          </a>\n        </li>\n        <li className=\"works__item\">\n          <a className=\"work\" href=\"https://max76667.mesto.nomoredomains.monster\">\n            <p className=\"work__name\">Одностраничное приложение</p>\n            <p className=\"work__arrow\">↗</p>\n          </a>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default Portfolio;","import './Techs.css'\n\nfunction Techs(props) {\n  return (\n    <div id=\"techs\" className=\"techs\">\n      <h2 className=\"techs__heading\">Технологии</h2>\n      <hr className=\"techs__line\" />\n      <div className=\"techs__content\">\n        <h3 className=\"techs__subheading\">7 технологий</h3>\n        <p className=\"techs__text\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n        <ul className=\"techs__list\">\n          <li className=\"techs__item\"><div className=\"tech\"><p className=\"tech__title\">HTML</p></div></li>\n          <li className=\"techs__item\"><div className=\"tech\"><p className=\"tech__title\">CSS</p></div></li>\n          <li className=\"techs__item\"><div className=\"tech\"><p className=\"tech__title\">JS</p></div></li>\n          <li className=\"techs__item\"><div className=\"tech\"><p className=\"tech__title\">React</p></div></li>\n          <li className=\"techs__item\"><div className=\"tech\"><p className=\"tech__title\">Git</p></div></li>\n          <li className=\"techs__item\"><div className=\"tech\"><p className=\"tech__title\">Express.js</p></div></li>\n          <li className=\"techs__item\"><div className=\"tech\"><p className=\"tech__title\">mongoDB</p></div></li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default Techs;","import './Navigation.css'\r\nimport { NavLink as Link } from 'react-router-dom'\r\nimport React from 'react';\r\n\r\nfunction Navigation(props) {\r\n  return (\r\n    <>\r\n      {\r\n        props.loggedIn ?\r\n          (\r\n            <nav className={`nav ${props.isMenuOpen ? 'nav_open' : ''} nav_with-menu`}>\r\n              <div className=\"nav__burger-icon\" onClick={props.toggleMenu}></div>\r\n              <div className=\"nav__overlay\"></div>\r\n              <div className=\"nav__menu\">\r\n                <ul className=\"nav__links\">\r\n                  <li className=\"nav__item\"><Link className=\"nav__link nav__link_to_main\" exact to=\"/\" activeClassName=\"nav__link_active\">Главная</Link></li>\r\n                  <li className=\"nav__item\"><Link className=\"nav__link nav__link_to_movies\" to=\"/movies\" activeClassName=\"nav__link_active\">Фильмы</Link></li>\r\n                  <li className=\"nav__item\"><Link className=\"nav__link nav__link_to_saved-movies\" to=\"/saved-movies\" activeClassName=\"nav__link_active\">Сохранённые фильмы</Link></li>\r\n                </ul>\r\n                <Link className=\"nav__link nav__link_to_my-account\" to=\"/profile\">Аккаунт</Link>\r\n                <div className=\"nav__close-button\" onClick={props.toggleMenu}></div>\r\n              </div>\r\n            </nav>\r\n          ) : (\r\n            <nav className=\"nav\">\r\n              <div className=\"nav__menu\">\r\n                <ul className=\"nav__links\">\r\n                  <li className=\"nav__item\"><Link className=\"nav__link nav__link_to_signup\" to=\"/signup\">Регистрация</Link></li>\r\n                  <li className=\"nav__item\"><Link className=\"nav__link nav__link_to_signin\" to=\"/signin\">Войти</Link></li>\r\n                </ul>\r\n              </div>\r\n            </nav>\r\n          )\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Navigation;","import './Logo.css'\nimport { Link } from \"react-router-dom\";\n\nfunction Logo(props) {\n  return (\n    <Link to=\"/\" className=\"logo\">\n      <svg className=\"logo__img\" width=\"38\" height=\"38\" viewBox=\"0 0 38 38\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path className=\"logo__part\" d=\"M0 12.6667C0 8.23292 0 6.01604 0.862865 4.32258C1.62186 2.83296 2.83296 1.62186 4.32258 0.862865C6.01604 0 8.23292 0 12.6667 0H25.3333C29.7671 0 31.984 0 33.6774 0.862865C35.167 1.62186 36.3781 2.83296 37.1371 4.32258C38 6.01604 38 8.23292 38 12.6667V25.3333C38 29.7671 38 31.984 37.1371 33.6774C36.3781 35.167 35.167 36.3781 33.6774 37.1371C31.984 38 29.7671 38 25.3333 38H12.6667C8.23292 38 6.01604 38 4.32258 37.1371C2.83296 36.3781 1.62186 35.167 0.862865 33.6774C0 31.984 0 29.7671 0 25.3333V12.6667Z\" fill=\"#2BE080\" />\n        <circle cx=\"19\" cy=\"19\" r=\"11\" fill=\"white\" />\n        <path className=\"logo__part\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15.1538 19C15.1538 21.1242 16.8758 22.8462 19 22.8462C21.1242 22.8462 22.8462 21.1242 22.8462 19H25C25 22.3137 22.3137 25 19 25C15.6863 25 13 22.3137 13 19H15.1538Z\" fill=\"#2BE080\" />\n      </svg>\n    </Link>\n  )\n}\n\nexport default Logo;","import './Header.css';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Logo from '../Logo/Logo';\r\nimport React from 'react';\r\n\r\nfunction Header(props) {\r\n\r\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n\r\n  function toggleMenu() {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  }\r\n\r\n  return (\r\n    <header className={`header ${props.loggedIn ? \"header_logged-in\" : ''}`}>\r\n      <Logo />\r\n      <Navigation loggedIn={props.loggedIn} isMenuOpen={isMenuOpen} toggleMenu={toggleMenu} />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import './NavTab.css'\nimport { HashLink as Link } from 'react-router-hash-link';\n\nfunction NavTab(props) {\n  return (\n    <div className=\"nav-tab\">\n      <ul className=\"nav-tab__list\">\n        <li className=\"nav-tab__item\">\n          <Link className=\"nav-tab__link\" to=\"/#about-project\">О проекте</Link>\n        </li>\n        <li className=\"nav-tab__item\">\n          <Link className=\"nav-tab__link\" to=\"/#techs\">Технологии</Link>\n        </li>\n        <li className=\"nav-tab__item\">\n          <Link className=\"nav-tab__link\" to=\"/#about-me\">Студент</Link>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default NavTab;","import './Promo.css';\n\nfunction Promo(props) {\n  return (\n    <div className=\"promo\">\n      <div className=\"promo__logo\"></div>\n      <h1 className=\"promo__heading\">Учебный проект студента факультета Веб-разработки.</h1>\n    </div>\n  )\n}\n\nexport default Promo;","import './Hero.css';\nimport Header from \"../Header/Header\";\nimport NavTab from \"../NavTab/NavTab\";\nimport Promo from \"../Promo/Promo\";\n\nfunction Hero(props) {\n  return (\n    <div className=\"hero\">\n      <Header loggedIn={props.loggedIn} />\n      <Promo />\n      <NavTab />\n    </div>\n  )\n}\n\nexport default Hero;","import './Footer.css';\n\nfunction Footer(props) {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__author\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\n      <hr className=\"footer__line\" />\n      <div className=\"footer__content\">\n        <p className=\"footer__copyright\">© {new Date().getFullYear()}</p>\n        <ul className=\"footer__links\">\n          <li className=\"footer__item\"><a className=\"footer__link\" href=\"https://practicum.yandex.ru/profile/web/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a></li>\n          <li className=\"footer__item\"><a className=\"footer__link\" href=\"https://github.com/maximka76667\" target=\"_blank\" rel=\"noreferrer\">Github</a></li>\n          <li className=\"footer__item\"><a className=\"footer__link\" href=\"https://www.facebook.com/profile.php?id=100057730898201\" target=\"_blank\" rel=\"noreferrer\">Facebook</a></li>\n        </ul>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer;","import './Main.css';\nimport AboutMe from '../AboutMe/AboutMe';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Portfolio from '../Portfolio/Portfolio';\nimport Techs from '../Techs/Techs';\nimport Hero from '../Hero/Hero';\nimport Footer from '../Footer/Footer';\n\nfunction Main(props) {\n  return (\n    <>\n      <Hero loggedIn={props.loggedIn} />\n      <main className=\"main\">\n        <AboutProject />\n        <Techs />\n        <AboutMe />\n        <Portfolio />\n      </main>\n      <Footer />\n    </>\n  )\n}\n\nexport default Main;","import './CardsNotFound.css'\r\n\r\nfunction CardsNotFound(props) {\r\n  return (\r\n    <div className=\"cards-not-found\">\r\n      <p className=\"cards-not-found__text\">Запрос не дал результатов.</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CardsNotFound;","import React from 'react';\r\nimport './More.css';\r\n\r\nfunction More(props) {\r\n  return (\r\n    <div className=\"more\">\r\n      {!props.isAllCardsRendered && <button className=\"more__button\" onClick={() => props.renderCardList(props.countCardsOfWidth, props.cardList)}>Ещё</button>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default More;","import React from 'react';\r\nimport './MoviesCard.css'\r\n\r\nfunction MoviesCard(props) {\r\n  const [cardId, setCardId] = React.useState('');\r\n  const [isSaved, setIsSaved] = React.useState(false);\r\n\r\n  function handleSaveMovie() {\r\n    if (isSaved) {\r\n      setIsSaved(false);\r\n      props.onUnsaveMovie(cardId);\r\n    }\r\n    if (!isSaved) {\r\n      props.onSaveMovie(props.card);\r\n      setIsSaved(true);\r\n    }\r\n  }\r\n\r\n  function formatDuration(duration) {\r\n    const hours = (duration - (duration % 60)) / 60;\r\n    const minutes = duration - hours * 60;\r\n\r\n    return `${hours ? hours + 'ч' : ''} ${minutes ? minutes + 'м' : ''}`;\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setIsSaved(props.savedMovies.find(movie => movie.movieId === props.card.id || movie.movieId === props.card.movieId));\r\n    props.savedMovies.forEach(movie => {\r\n      if (movie.movieId === props.card.id || movie.movieId === props.card.movieId) setCardId(movie._id);\r\n    })\r\n\r\n    // eslint-disable-next-line\r\n  }, [props.cardList, props.savedMovies])\r\n\r\n  return (\r\n    <div className={`card ${isSaved ? \"card_saved\" : ''}`}>\r\n      <a className=\"card__poster\" href={props.card.trailerLink ?? props.card.trailer} rel=\"noreferrer\" target=\"_blank\">\r\n        <img className=\"card__poster-img\" src={props.card.image.url ? `https://api.nomoreparties.co${props.card.image.url}` : props.card.image} alt={props.card.nameEN} />\r\n      </a>\r\n      <div className=\"card__info\">\r\n        <h2 className=\"card__name\">{props.card.nameRU}</h2>\r\n        <p className=\"card__duration\">{formatDuration(props.card.duration)}</p>\r\n      </div>\r\n      <button className=\"card__save-button\" onClick={handleSaveMovie}>{!isSaved && \"Сохранить\"}</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MoviesCard;","import React from 'react'\nimport './Preloader.css'\n\nfunction Preloader(props) {\n  return (\n    <div className=\"preloader\">\n      <div className=\"preloader__container\">\n        <span className=\"preloader__round\"></span>\n      </div>\n    </div>\n  )\n};\n\nexport default Preloader;\n","import React from 'react';\r\nimport { useLocation } from 'react-router';\r\nimport CardsNotFound from '../CardsNotFound/CardsNotFound';\r\nimport More from '../More/More';\r\nimport MoviesCard from '../MoviesCard/MoviesCard';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport './MoviesCardList.css';\r\n\r\nfunction MoviesCardList(props) {\r\n\r\n  const location = useLocation();\r\n\r\n  const [cardList, setCardList] = React.useState([]);\r\n\r\n  const [isAllCardsRendered, setIsAllCardsRendered] = React.useState(true);\r\n  const [countCardsOfWidth, setCountCardsOfWidth] = React.useState(0);\r\n\r\n  const renderItem = (card) => (\r\n    <MoviesCard key={card.id || card.movieId} card={card} cardId={card._id} onSaveMovie={props.onSaveMovie} onUnsaveMovie={props.onUnsaveMovie} cardList={cardList} savedMovies={props.savedMovies} />\r\n  )\r\n\r\n\r\n  function renderCardList(countCardsOfWidth, cardList) {\r\n    setIsAllCardsRendered(false);\r\n\r\n    const cardsForRender = [];\r\n\r\n    const countCardsForRender = location.pathname === \"/saved-movies\" ? props.cardList.length : countCardsOfWidth;\r\n\r\n    for (let i = 0; i < countCardsForRender; i++) {\r\n      const newCardIndex = i + cardList.length;\r\n      const newCard = props.cardList[newCardIndex] || 0;\r\n\r\n      if (newCardIndex >= props.cardList.length - 1) {\r\n        if (newCardIndex === props.cardList.length - 1) {\r\n          cardsForRender.push(newCard);\r\n        }\r\n        setIsAllCardsRendered(true);\r\n        break;\r\n      }\r\n\r\n      cardsForRender.push(newCard);\r\n    }\r\n\r\n    setCardList([...cardList, ...cardsForRender]);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    renderCardList(countCardsOfWidth, []);\r\n    // eslint-disable-next-line\r\n  }, [props.cardList])\r\n\r\n  function checkCountOfCards() {\r\n    const width = window.innerWidth;\r\n\r\n    if (width > 800) {\r\n      setCountCardsOfWidth(3);\r\n    }\r\n\r\n    if (width > 650 && width <= 800) {\r\n      setCountCardsOfWidth(2);\r\n    }\r\n\r\n    if (width <= 650) {\r\n      setCountCardsOfWidth(1);\r\n    }\r\n  }\r\n\r\n  const checkCountOfCardsCallback = () => {\r\n    checkCountOfCards();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    renderCardList(countCardsOfWidth, []);\r\n    // eslint-disable-next-line\r\n  }, [countCardsOfWidth]);\r\n\r\n  React.useEffect(() => {\r\n    if (cardList.length === 0) return setIsAllCardsRendered(true);\r\n  }, [cardList])\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('resize', checkCountOfCardsCallback)\r\n\r\n    checkCountOfCards();\r\n\r\n    renderCardList(countCardsOfWidth, []);\r\n    setIsAllCardsRendered(false);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', checkCountOfCardsCallback)\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"card-list\">\r\n      {props.isSearching && <Preloader />}\r\n      {!props.isSearching && props.isNotFound && <CardsNotFound />}\r\n      {!props.isSearching && !props.isNotFound && props.isResult &&\r\n        <>\r\n          <div className=\"card-list__container\">\r\n            {\r\n              cardList.map(renderItem)\r\n            }\r\n          </div>\r\n          <More renderCardList={renderCardList} isAllCardsRendered={isAllCardsRendered} countCardsOfWidth={countCardsOfWidth} cardList={cardList} />\r\n        </>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MoviesCardList;","import './FilterCheckbox.css'\r\n\r\nfunction FilterCheckbox(props) {\r\n  return (\r\n    <div className=\"filter-checkbox\">\r\n      <label className=\"filter-checkbox__container\">\r\n        <div className=\"filter-checkbox__switch\">\r\n          <input className={`filter-checkbox__input ${props.isShort ? \"filter-checkbox__input_active\" : \"\"}`} onClick={props.changeMoviesType} name=\"short\" id=\"short\" type=\"checkbox\" />\r\n          <span className=\"filter-checkbox__slider\"></span>\r\n        </div>\r\n        <p className=\"filter-checkbox__label\">Короткометражка</p>\r\n      </label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FilterCheckbox;","import React from 'react';\r\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\r\nimport './SearchForm.css';\r\n\r\nfunction SearchForm(props) {\r\n\r\n  const [searchValue, setSearchValue] = React.useState('');\r\n  const [isShort, setIsShort] = React.useState(false);\r\n\r\n  function changeMoviesType(e) {\r\n    setIsShort(!isShort);\r\n  }\r\n\r\n  function handleSearchValueChange(e) {\r\n    e.preventDefault();\r\n\r\n    setSearchValue(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onSubmit(searchValue, isShort);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (searchValue) {\r\n      props.onSubmit(searchValue, isShort);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [isShort])\r\n\r\n  return (\r\n    <form className=\"search-form\" onSubmit={handleSubmit}>\r\n      <input className=\"search-form__input\" placeholder=\"Фильм\" name=\"searchValue\" id=\"searchValue\" value={searchValue} onChange={handleSearchValueChange} />\r\n      <button className=\"search-form__submit-button\" type=\"submit\">Найти</button>\r\n      <FilterCheckbox isShort={isShort} changeMoviesType={changeMoviesType} />\r\n      <hr className=\"search-form__line\" />\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchForm;","import React from \"react\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\n\r\nfunction SavedMovies(props) {\r\n\r\n  React.useEffect(() => {\r\n    props.initSavedMovies();\r\n    // eslint-disable-next-line\r\n  }, [props.savedMovies])\r\n\r\n  return (\r\n    <>\r\n      <Header loggedIn={props.loggedIn} />\r\n      <main className=\"saved-movies\">\r\n        <SearchForm onSubmit={props.onSearchMyMovies} />\r\n        <MoviesCardList\r\n          clearCardList={props.clearCardList}\r\n          renderedCardList={props.renderedCardList}\r\n          isAllCardsRendered={props.isAllCardsRendered}\r\n          countCardsOfWidth={props.countCardsOfWidth}\r\n          setRenderedCardList={props.setRenderedCardList}\r\n          setIsAllCardsRendered={props.setIsAllCardsRendered}\r\n          setCountCardsOfWidth={props.setCountCardsOfWidth}\r\n          isSearching={props.isSearching}\r\n          isResult={props.isResult}\r\n          cardList={props.cardList}\r\n          isNotFound={props.isNotFound}\r\n          onSaveMovie={props.onSaveMovie}\r\n          onUnsaveMovie={props.onUnsaveMovie}\r\n          savedMovies={props.savedMovies}\r\n        />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SavedMovies;","import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\nimport './Profile.css';\r\nimport Header from \"../Header/Header\";\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\r\nimport validator from 'validator';\r\n\r\nfunction Profile(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState(currentUser.name);\r\n  const [email, setEmail] = React.useState(currentUser.email);\r\n\r\n  // Validation Constants\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isEmailError, setIsEmailError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  function handleChangeName(e) {\r\n    if (props.isEdit) {\r\n      setName(e.target.value);\r\n      handleValidation(e);\r\n    }\r\n  }\r\n\r\n  function handleChangeEmail(e) {\r\n    if (props.isEdit) {\r\n      setEmail(e.target.value);\r\n      handleValidation(e);\r\n    }\r\n  }\r\n\r\n  const inputNameClassName = (\r\n    `profile__field-value ${props.isEdit ? \"profile__field-value_edit\" : ''} ${isNameError ? \"profile__field-value_error\" : \"\"}`\r\n  );\r\n\r\n  const inputEmailClassName = (\r\n    `profile__field-value ${props.isEdit ? \"profile__field-value_edit\" : ''} ${isEmailError ? \"profile__field-value_error\" : \"\"}`\r\n  )\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch (inputElement.name) {\r\n      case 'name': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          return;\r\n        }\r\n        setIsNameError(false);\r\n        break;\r\n      }\r\n      case 'email': {\r\n        if (!inputElement.validity.valid || !validator.isEmail(inputElement.value)) {\r\n          setIsEmailError(true);\r\n          return;\r\n        }\r\n        setIsEmailError(false);\r\n        break;\r\n      }\r\n      default: { }\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!props.isEdit) props.changeIsEdit(true);\r\n\r\n    if (props.isEdit) {\r\n      props.onUserUpdate({\r\n        name,\r\n        email,\r\n      })\r\n      setName(currentUser.name);\r\n      setEmail(currentUser.email);\r\n    }\r\n  }\r\n\r\n  function handleLogout(e) {\r\n    e.preventDefault();\r\n\r\n    props.onLogout();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setEmail(currentUser.email);\r\n  }, [currentUser])\r\n\r\n  React.useEffect(() => {\r\n    if (name === currentUser.name && email === currentUser.email) return setIsSubmitValid(false);\r\n    else if (!isNameError && !isEmailError) return setIsSubmitValid(true);\r\n    return setIsSubmitValid(false);\r\n  }, [name, email, currentUser, isNameError, isEmailError])\r\n\r\n  return (\r\n    <>\r\n      <Header loggedIn={props.loggedIn} />\r\n      <div className=\"profile\">\r\n        <h1 className=\"profile__greeting\">Привет, {currentUser.name}</h1>\r\n        <form className=\"profile__content\" onSubmit={handleSubmit}>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__field\">\r\n              <h2 className=\"profile__field-name\">Имя</h2>\r\n              <input className={inputNameClassName} onChange={handleChangeName} type=\"text\" name=\"name\" value={name} disabled={!props.isEdit} required />\r\n            </div>\r\n            <hr className=\"profile__line\" />\r\n            <div className=\"profile__field\">\r\n              <h2 className=\"profile__field-name\">E-mail</h2>\r\n              <input className={inputEmailClassName} onChange={handleChangeEmail} type=\"email\" name=\"email\" value={email} disabled={!props.isEdit} required />\r\n            </div>\r\n          </div>\r\n          <button className=\"profile__edit-button\" type=\"submit\" disabled={props.isEdit ? !isSubmitValid || props.isLoading : false}>{props.isEdit ? props.isLoading ? \"Загрузка...\" : \"Сохранить\" : \"Редактировать\"}</button>\r\n          <button className=\"profile__exit-button\" onClick={handleLogout}>Выйти из аккаунта</button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Logo from '../Logo/Logo';\r\nimport './Register.css';\r\nimport validator from 'validator';\r\n\r\nfunction Register(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [nameError, setNameError] = React.useState('');\r\n  const [emailError, setEmailError] = React.useState('');\r\n  const [passwordError, setPasswordError] = React.useState('');\r\n  const [isNameError, setIsNameError] = React.useState(false);\r\n  const [isEmailError, setIsEmailError] = React.useState(false);\r\n  const [isPasswordError, setIsPasswordError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const nameInputClassName = (\r\n    `register__form-input ${isNameError ? 'register__form-input_error' : ''}`\r\n  );\r\n\r\n  const emailInputClassName = (\r\n    `register__form-input ${isEmailError ? 'register__form-input_error' : ''}`\r\n  );\r\n\r\n  const passwordInputClassName = (\r\n    `register__form-input ${isPasswordError ? 'register__form-input_error' : ''}`\r\n  );\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onRegister({ name, email, password });\r\n  }\r\n\r\n  function handleNameInputChange(e) {\r\n    setName(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleEmailInputChange(e) {\r\n    setEmail(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handlePasswordInputChange(e) {\r\n    setPassword(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch (inputElement.name) {\r\n      case 'name': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsNameError(true);\r\n          setNameError(inputElement.validationMessage);\r\n          return;\r\n        }\r\n        setIsNameError(false);\r\n        setNameError('');\r\n        break;\r\n      }\r\n      case 'email': {\r\n        if (!inputElement.validity.valid || !validator.isEmail(inputElement.value)) {\r\n          setIsEmailError(true);\r\n          setEmailError(inputElement.validationMessage);\r\n          return;\r\n        }\r\n        setIsEmailError(false);\r\n        setEmailError('');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsPasswordError(true);\r\n          setPasswordError(inputElement.validationMessage);\r\n          return;\r\n        }\r\n        setIsPasswordError(false);\r\n        setPasswordError('');\r\n        break;\r\n      }\r\n      default: { }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (isNameError || isEmailError || isPasswordError) return setIsSubmitValid(false);\r\n    return setIsSubmitValid(true);\r\n  }, [isNameError, isEmailError, isPasswordError, name, email, password])\r\n\r\n  React.useEffect(() => {\r\n    setIsNameError(true);\r\n    setIsEmailError(true);\r\n    setIsPasswordError(true);\r\n    setIsSubmitValid(false);\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <div className=\"register__content\">\r\n        <Logo />\r\n        <h1 className=\"register__heading\">Добро пожаловать!</h1>\r\n        <form className=\"register__form\" onSubmit={handleSubmit}>\r\n          <div className=\"register__form-field\">\r\n            <label className=\"register__form-label\">Имя</label>\r\n            <input className={nameInputClassName} name=\"name\" type=\"text\" value={name} onChange={handleNameInputChange} required />\r\n            <p className=\"register__form-error\">{nameError}</p>\r\n          </div>\r\n          <div className=\"register__form-field\">\r\n            <label className=\"register__form-label\">E-mail</label>\r\n            <input className={emailInputClassName} name=\"email\" type=\"email\" value={email} onChange={handleEmailInputChange} required />\r\n            <p className=\"register__form-error\">{emailError}</p>\r\n          </div>\r\n          <div className=\"register__form-field\">\r\n            <label className=\"register__form-label\">Пароль</label>\r\n            <input className={passwordInputClassName} name=\"password\" type=\"password\" value={password} onChange={handlePasswordInputChange} required />\r\n            <p className=\"register__form-error\">{passwordError}</p>\r\n          </div>\r\n          <button className=\"register__submit-button\" type=\"submit\" disabled={!isSubmitValid || props.isLoading}>Зарегистрироваться</button>\r\n        </form>\r\n        <p className=\"register__login\">Уже зарегистрированы?<Link className=\"register__login-link\" to=\"/signin\">Войти</Link></p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Logo from '../Logo/Logo';\r\nimport './Login.css';\r\nimport validator from 'validator';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  // Validation Constants\r\n  const [emailError, setEmailError] = React.useState('');\r\n  const [passwordError, setPasswordError] = React.useState('');\r\n  const [isEmailError, setIsEmailError] = React.useState(false);\r\n  const [isPasswordError, setIsPasswordError] = React.useState(false);\r\n  const [isSubmitValid, setIsSubmitValid] = React.useState(false);\r\n\r\n  // ClassNames\r\n  const emailInputClassName = (\r\n    `login__form-input ${isEmailError ? 'login__form-input_error' : ''}`\r\n  );\r\n\r\n  const passwordInputClassName = (\r\n    `login__form-input ${isPasswordError ? 'login__form-input_error' : ''}`\r\n  );\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onLogin({ email, password });\r\n  }\r\n\r\n  function handleEmailInputChange(e) {\r\n    setEmail(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handlePasswordInputChange(e) {\r\n    setPassword(e.target.value);\r\n\r\n    handleValidation(e);\r\n  }\r\n\r\n  function handleValidation(e) {\r\n    const inputElement = e.target;\r\n\r\n    switch (inputElement.name) {\r\n      case 'email': {\r\n        if (!inputElement.validity.valid || !validator.isEmail(inputElement.value)) {\r\n          setIsEmailError(true);\r\n          setEmailError(inputElement.validationMessage);\r\n          return;\r\n        }\r\n        setIsEmailError(false);\r\n        setEmailError('');\r\n        break;\r\n      }\r\n      case 'password': {\r\n        if (!inputElement.validity.valid) {\r\n          setIsPasswordError(true);\r\n          setPasswordError(inputElement.validationMessage);\r\n          return;\r\n        }\r\n        setIsPasswordError(false);\r\n        setPasswordError('');\r\n        break;\r\n      }\r\n      default: { }\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (isEmailError || isPasswordError) return setIsSubmitValid(false);\r\n    return setIsSubmitValid(true);\r\n  }, [isEmailError, isPasswordError, email, password])\r\n\r\n  React.useEffect(() => {\r\n    setIsEmailError(true);\r\n    setIsPasswordError(true);\r\n    setIsSubmitValid(false);\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__content\">\r\n        <Logo />\r\n        <h1 className=\"login__heading\">Рады видеть!</h1>\r\n        <form className=\"login__form\" onSubmit={handleSubmit}>\r\n          <div className=\"login__form-field\">\r\n            <label className=\"login__form-label\">E-mail</label>\r\n            <input className={emailInputClassName} name=\"email\" type=\"email\" value={email} onChange={handleEmailInputChange} required />\r\n            <p className=\"login__form-error\">{emailError}</p>\r\n          </div>\r\n          <div className=\"login__form-field\">\r\n            <label className=\"login__form-label\">Пароль</label>\r\n            <input className={passwordInputClassName} name=\"password\" type=\"password\" value={password} onChange={handlePasswordInputChange} required />\r\n            <p className=\"login__form-error\">{passwordError}</p>\r\n          </div>\r\n          <button className=\"login__submit-button\" type=\"submit\" disabled={!isSubmitValid || props.isLoading}>Войти</button>\r\n        </form>\r\n        <p className=\"login__register\">Ещё не зарегистрированы?<Link className=\"login__register-link\" to=\"/signup\">Регистрация</Link></p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import { Link } from 'react-router-dom';\nimport './NotFound.css';\n\nfunction NotFound(props) {\n  return (\n    <div className=\"not-found\">\n      <h1 className=\"not-found__error-code\">404</h1>\n      <p className=\"not-found__text\">Страница не найдена</p>\n      <Link className=\"not-found__link\" to=\"/\">Назад</Link>\n    </div>\n  )\n}\n\nexport default NotFound;","class Auth {\r\n  constructor({ baseUrl }) {\r\n    this._baseUrl = baseUrl;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) return res.json();\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  register(data) {\r\n    return fetch(`${this._baseUrl}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"name\": data.name,\r\n        \"email\": data.email,\r\n        \"password\": data.password,\r\n      })\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  login(data) {\r\n    return fetch(`${this._baseUrl}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        \"email\": data.email,\r\n        \"password\": data.password,\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  signout(token) {\r\n    return fetch(`${this._baseUrl}/signout`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${token}`\r\n      }\r\n    })\r\n  }\r\n\r\n  getEmail(token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": `Bearer ${token}`\r\n      }\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n}\r\n\r\nconst auth = new Auth({\r\n  baseUrl: 'https://calm-everglades-07404.herokuapp.com'\r\n})\r\n\r\nexport default auth;","class Api {\r\n  constructor({ baseUrl, authorization }) {\r\n    this._baseUrl = baseUrl;\r\n    this._token = authorization;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) return res.json();\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getSavedMovies() {\r\n    return fetch(`${this._baseUrl}/movies`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      }\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  setProfileInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        email: data.email,\r\n      }),\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  saveMovie(data) {\r\n    return fetch(`${this._baseUrl}/movies`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        country: data.country,\r\n        director: data.director,\r\n        duration: data.duration,\r\n        year: data.year,\r\n        description: data.description,\r\n        image: data.image.url ? `https://api.nomoreparties.co${data.image.url}` : data.image,\r\n        trailer: data.trailerLink ? data.trailerLink : 'https://yandex.ru',\r\n        thumbnail: data.trailerLink ? data.trailerLink : 'https://yandex.ru',\r\n        movieId: data.id || data.movieId,\r\n        nameRU: data.nameRU,\r\n        nameEN: data.nameEN,\r\n      }),\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  unsaveMovie(movieId) {\r\n    return fetch(`${this._baseUrl}/movies/${movieId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._checkResponse);\r\n  }\r\n\r\n  changeToken(token) {\r\n    this._token = `Bearer ${token}`\r\n  }\r\n}\r\n\r\nconst mainApi = new Api({\r\n  baseUrl: 'https://calm-everglades-07404.herokuapp.com',\r\n})\r\n\r\nexport default mainApi;","class Api {\r\n  constructor({ baseUrl, authorization }) {\r\n    this._baseUrl = baseUrl;\r\n    this._token = authorization;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) return res.json();\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n\r\n  getMovies() {\r\n    return fetch(this._baseUrl)\r\n      .then(this._checkResponse)\r\n  }\r\n}\r\n\r\nconst moviesApi = new Api({\r\n  baseUrl: 'https://api.nomoreparties.co/beatfilm-movies',\r\n})\r\n\r\nexport default moviesApi;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    </Route>\r\n  )\r\n};\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\n\r\nfunction Movies(props) {\r\n\r\n  React.useEffect(() => {\r\n    props.clearCardList();\r\n    props.uploadLocalStorage();\r\n\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Header loggedIn={props.loggedIn} />\r\n      <main className=\"movies\">\r\n        <SearchForm onSubmit={props.onSearch} />\r\n        <MoviesCardList\r\n          clearCardList={props.clearCardList}\r\n          renderedCardList={props.renderedCardList}\r\n          isAllCardsRendered={props.isAllCardsRendered}\r\n          countCardsOfWidth={props.countCardsOfWidth}\r\n          setRenderedCardList={props.setRenderedCardList}\r\n          setIsAllCardsRendered={props.setIsAllCardsRendered}\r\n          setCountCardsOfWidth={props.setCountCardsOfWidth}\r\n          isSearching={props.isSearching}\r\n          isResult={props.isResult}\r\n          isNotFound={props.isNotFound}\r\n          cardList={props.cardList}\r\n          onSaveMovie={props.onSaveMovie}\r\n          onUnsaveMovie={props.onUnsaveMovie}\r\n          savedMovies={props.savedMovies}\r\n        />\r\n      </main>\r\n      <Footer />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Movies;","export default __webpack_public_path__ + \"static/media/fail-icon.d4ce2a26.svg\";","export default __webpack_public_path__ + \"static/media/success-icon.a9eb6caf.svg\";","import fail from '../../images/fail-icon.svg'\nimport success from '../../images/success-icon.svg'\nimport './InfoTooltip.css'\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`popup popup_type_info ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__overlay\" onClick={props.onClose}></div>\n      <div className=\"popup__container popup__container_type_info\">\n        <img className=\"popup__result\" src={props.result ? success : fail} alt=\"infoTooltipResult\" />\n        <h2 className=\"popup__title popup__title_type_info\">{props.message}</h2>\n        <button className=\"popup__close-button\" type=\"button\" onClick={props.onClose}></button>\n      </div>\n    </div>)\n}\n\nexport default InfoTooltip;","const SHORT_DURATION = 40;\r\n\r\nconst MESSAGES = {\r\n    auth: 'Авторизация прошла успешно.',\r\n    register: 'Регистрация прошла успешно.',\r\n    logout: 'Выход из аккаунта прошел успешно.',\r\n    userUpdate: 'Информация профиля успешно изменена.',\r\n    searchError: 'Нужно ввести ключевое слово в поле поиска.',\r\n    defaultError: 'Что-то пошло не так! Попробуйте ещё раз.',\r\n}\r\n\r\nexport {\r\n    SHORT_DURATION,\r\n    MESSAGES\r\n}","import { SHORT_DURATION } from '../config';\r\n\r\nexport default function filter(cardList, searchValue, isShort) {\r\n    const regExp = new RegExp(searchValue.toLowerCase());\r\n    const filteredMovies = cardList\r\n        .filter((movie) => regExp.test(movie.nameRU.toLowerCase()))\r\n        .filter((m) => isShort ? m.duration <= SHORT_DURATION : m.duration > SHORT_DURATION)\r\n    return filteredMovies;\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport Main from '../Main/Main'\r\nimport { Route, withRouter, Switch } from 'react-router-dom'\r\nimport SavedMovies from '../SavedMovies/SavedMovies';\r\nimport Profile from '../Profile/Profile';\r\nimport Register from '../Register/Register';\r\nimport Login from '../Login/Login';\r\nimport NotFound from '../NotFound/NotFound';\r\nimport CurrentUserContext from '../../contexts/CurrentUserContext'\r\nimport auth from '../../utils/Auth'\r\nimport mainApi from '../../utils/MainApi';\r\nimport moviesApi from '../../utils/MoviesApi'\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport Movies from '../Movies/Movies';\r\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\r\nimport { useLocation } from 'react-router';\r\nimport filter from '../../utils/filter';\r\nimport { MESSAGES } from '../../config';\r\n\r\nfunction App(props) {\r\n\r\n  const location = useLocation();\r\n\r\n  // Auth\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n  // Loading\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  // CardList\r\n  const [initSavedCardList, setInitSavedCardList] = React.useState([]);\r\n  const [initCardList, setInitCardList] = React.useState([]);\r\n\r\n  // Movies\r\n  const [cardList, setCardList] = React.useState([]);\r\n  const [isNotFound, setIsNotFound] = React.useState(false);\r\n  const [isSearching, setIsSearching] = React.useState(false);\r\n  const [isResult, setIsResult] = React.useState(false);\r\n\r\n  // Saved Movies\r\n  const [savedMovies, setSavedMovies] = React.useState([]);\r\n\r\n  // Profile\r\n  const [isEdit, setIsEdit] = React.useState(false);\r\n\r\n  // InfoTooltip\r\n  const [resultSuccessful, setResultSuccessful] = React.useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\r\n  const [infoMessage, setInfoMessage] = React.useState('');\r\n\r\n  // Auth\r\n  function handleLogin({ email, password }) {\r\n    setIsLoading(true);\r\n    auth.login({ email, password })\r\n      .then((data) => {\r\n        if (data.token) handleAuth(data.token);\r\n        handleInfo(true, MESSAGES.auth);\r\n      })\r\n      .catch(err => handleError(err))\r\n      .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleAuth(token) {\r\n    const requestedPathname = location.pathname;\r\n    auth.getEmail(token)\r\n      .then((res) => {\r\n        localStorage.setItem('token', token);\r\n        setLoggedIn(true);\r\n        mainApi.changeToken(token);\r\n        setCurrentUser(res.user);\r\n        if (requestedPathname === '/signin' || requestedPathname === '/signup') props.history.push('/movies')\r\n        else props.history.push(requestedPathname);\r\n        mainApi.getSavedMovies()\r\n          .then((movies) => {\r\n            const filteredMovies = movies.movies.filter((movie) => movie.owner === res.user._id);\r\n            setSavedMovies(filteredMovies);\r\n          })\r\n      })\r\n      .catch(err => handleError(err));\r\n  }\r\n\r\n  function uploadLocalStorage() {\r\n    setCardList(JSON.parse(localStorage.getItem('movies') || \"[]\"));\r\n    setIsResult(true);\r\n  }\r\n\r\n  function handleLogout() {\r\n    auth.signout(localStorage.getItem('token'))\r\n      .then(() => {\r\n        setLoggedIn(false);\r\n        mainApi.changeToken('');\r\n        setCurrentUser(null);\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('movies');\r\n        props.history.push('/');\r\n        handleInfo(true, MESSAGES.logout);\r\n      })\r\n      .catch((err) => handleError(err));\r\n  }\r\n\r\n  function handleRegister({ name, email, password }) {\r\n    setIsLoading(true);\r\n    auth.register({ name, email, password })\r\n      .then(() => {\r\n        handleInfo(true, MESSAGES.register)\r\n        handleLogin({ email, password });\r\n      })\r\n      .catch((err) => handleError(err))\r\n      .finally(() => setIsLoading(false))\r\n  }\r\n\r\n  function handleTokenCheck() {\r\n    if (localStorage.getItem('token')) {\r\n      const token = localStorage.getItem('token');\r\n      return handleAuth(token);\r\n    }\r\n  }\r\n\r\n  // Card List\r\n  function clearCardList() {\r\n    setIsResult(false);\r\n  }\r\n\r\n  // Movies\r\n  function handleSearchAllMovies(searchValue, isShort) {\r\n    setIsResult(false);\r\n    if (!searchValue) return handleInfo(false, MESSAGES.searchError);\r\n    const filteredMovies = filter(initCardList, searchValue, isShort);\r\n    if (filteredMovies?.length === 0) return setIsNotFound(true);\r\n    localStorage.setItem('movies', JSON.stringify(filteredMovies));\r\n    setCardList(filteredMovies);\r\n    setIsNotFound(false);\r\n    setIsResult(true);\r\n  }\r\n\r\n  // Saved Movies\r\n  function handleInitSavedMovies() {\r\n    setIsNotFound(false);\r\n    setIsResult(true);\r\n    setInitSavedCardList(savedMovies);\r\n    setCardList(savedMovies);\r\n  }\r\n\r\n  // Movie Card\r\n  function handleSaveMovie(data) {\r\n    mainApi.saveMovie(data)\r\n      .then((movie) => setSavedMovies([movie.movie, ...savedMovies]))\r\n      .catch((err) => handleError(err))\r\n  }\r\n\r\n  function handleUnsaveMovie(id) {\r\n    mainApi.unsaveMovie(id)\r\n      .then((deletedCard) => {\r\n        const newSavedMovies = savedMovies.filter((movieCard) => deletedCard.movie._id !== movieCard._id)\r\n        setSavedMovies(newSavedMovies);\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleSearchMyMovies(searchValue, isShort) {\r\n    if (!searchValue) return handleInfo(false, MESSAGES.searchError);\r\n    if (initSavedCardList.length === 0) return setIsNotFound(true);\r\n    const filteredMovies = filter(initSavedCardList, searchValue, isShort)\r\n    if (filteredMovies.length === 0) return setIsNotFound(true);\r\n    setCardList(filteredMovies);\r\n    setIsNotFound(false);\r\n  }\r\n\r\n  // Profile\r\n  function handleUpdateUser({ name, email }) {\r\n    if (isEdit) {\r\n      setIsLoading(true);\r\n      mainApi.setProfileInfo({ name, email })\r\n        .then((res) => {\r\n          setCurrentUser(res.user);\r\n          handleInfo(true, MESSAGES.userUpdate)\r\n        })\r\n        .catch((err) => {\r\n          setCurrentUser(currentUser);\r\n          handleError(err)\r\n        })\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n          setIsEdit(false);\r\n        })\r\n    }\r\n  }\r\n\r\n  function changeIsEdit(newIsEdit) {\r\n    setIsEdit(newIsEdit);\r\n  }\r\n\r\n  // Others\r\n  function handleError(error) {\r\n    console.log(error);\r\n    handleInfo(false, MESSAGES.defaultError)\r\n  }\r\n\r\n  function handleInfo(success, message) {\r\n    setResultSuccessful(success);\r\n    setInfoMessage(message);\r\n    setIsInfoTooltipOpen(true);\r\n  }\r\n\r\n  function handleCloseAllPopups() {\r\n    setIsInfoTooltipOpen(false);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck();\r\n\r\n    setIsSearching(true);\r\n    moviesApi.getMovies()\r\n      .then(movies => {\r\n        setInitCardList(movies);\r\n      })\r\n      .catch((err) => handleError(err))\r\n      .finally(() => setIsSearching(false))\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"app\">\r\n        <Switch>\r\n          <Route path=\"/signup\" exact>\r\n            <Register onRegister={handleRegister} />\r\n          </Route>\r\n          <Route path=\"/signin\" exact>\r\n            <Login onLogin={handleLogin} />\r\n          </Route>\r\n          <Route path=\"/\" exact>\r\n            <Main loggedIn={loggedIn} />\r\n          </Route>\r\n          <ProtectedRoute\r\n            path=\"/profile\"\r\n            exact\r\n            component={Profile}\r\n            loggedIn={loggedIn}\r\n            onUserUpdate={handleUpdateUser}\r\n            onLogout={handleLogout}\r\n            isLoading={isLoading}\r\n            changeIsEdit={changeIsEdit}\r\n            isEdit={isEdit}\r\n          />\r\n          <ProtectedRoute\r\n            path=\"/movies\"\r\n            exact\r\n            component={Movies}\r\n            loggedIn={loggedIn}\r\n            isResult={isResult}\r\n            isNotFound={isNotFound}\r\n            isSearching={isSearching}\r\n            onSearch={handleSearchAllMovies}\r\n            onSaveMovie={handleSaveMovie}\r\n            onUnsaveMovie={handleUnsaveMovie}\r\n            cardList={cardList}\r\n            savedMovies={savedMovies}\r\n            clearCardList={clearCardList}\r\n            uploadLocalStorage={uploadLocalStorage}\r\n          />\r\n          <ProtectedRoute\r\n            path=\"/saved-movies\"\r\n            exact\r\n            component={SavedMovies}\r\n            loggedIn={loggedIn}\r\n            isResult={isResult}\r\n            isNotFound={isNotFound}\r\n            isSearching={isSearching}\r\n            onSaveMovie={handleSaveMovie}\r\n            onUnsaveMovie={handleUnsaveMovie}\r\n            cardList={cardList}\r\n            savedMovies={savedMovies}\r\n            initSavedMovies={handleInitSavedMovies}\r\n            clearCardList={clearCardList}\r\n            onSearchMyMovies={handleSearchMyMovies}\r\n          />\r\n          <Route path=\"/\">\r\n            <NotFound />\r\n          </Route>\r\n        </Switch>\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltipOpen}\r\n          result={resultSuccessful}\r\n          onClose={handleCloseAllPopups}\r\n          message={infoMessage}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider >\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}